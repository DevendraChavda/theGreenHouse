---
import home from ".././img/home.jpg";
import home1 from ".././img/home1.jpeg";
import home2 from ".././img/home2.jpeg";
import { Image } from "astro:assets";
---

<div class="relative w-full max-w-4xl mx-auto">
    <div class="overflow-hidden">
        <div
            id="slider"
            class="flex transition-transform duration-700 ease-in-out"
        >
            <!-- Display the images in a loop -->
            <Image
                src={home}
                alt="Slide 1"
                class="w-1/4 flex-shrink-0 object-cover p-4"
            />
            <Image
                src={home1}
                alt="Slide 2"
                class="w-1/4 flex-shrink-0 object-cover p-4"
            />
            <Image
                src={home2}
                alt="Slide 3"
                class="w-1/4 flex-shrink-0 object-cover p-4"
            />
            <Image
                src={home}
                alt="Slide 4"
                class="w-1/4 flex-shrink-0 object-cover p-4"
            />
            <Image
                src={home1}
                alt="Slide 5"
                class="w-1/4 flex-shrink-0 object-cover p-4"
            />
            <Image
                src={home2}
                alt="Slide 6"
                class="w-1/4 flex-shrink-0 object-cover p-4"
            />
            <Image
                src={home}
                alt="Slide 1"
                class="w-1/4 flex-shrink-0 object-cover p-4"
            />
            <Image
                src={home1}
                alt="Slide 2"
                class="w-1/4 flex-shrink-0 object-cover p-4"
            />
            <Image
                src={home2}
                alt="Slide 3"
                class="w-1/4 flex-shrink-0 object-cover p-4"
            />
            <Image
                src={home}
                alt="Slide 4"
                class="w-1/4 flex-shrink-0 object-cover p-4"
            />
        </div>
    </div>
    <!-- Navigation buttons -->
    <button
        class="absolute top-1/2 left-0 transform -translate-y-1/2 bg-white p-2"
        onclick="prevSlide()"
    >
        ‹
    </button>
    <button
        class="absolute top-1/2 right-0 transform -translate-y-1/2 bg-white p-2"
        onclick="nextSlide()"
    >
        ›
    </button>
</div>

<script>
    let currentIndex = 0;
    const totalImages = 6; // Original number of images

    function updateSlider() {
        const slider = document.getElementById("slider");
        if (slider) {
            slider.style.transform = `translateX(-${currentIndex * 25}%)`;
        }
    }

    function nextSlide() {
        currentIndex++;
        if (currentIndex >= totalImages) {
            currentIndex = 0;
        }
        updateSlider();
    }

    function prevSlide() {
        currentIndex--;
        if (currentIndex < 0) {
            currentIndex = totalImages - 1;
        }
        updateSlider();
    }

    // Auto-rotate every 3 seconds
    setInterval(nextSlide, 3000);
</script>
